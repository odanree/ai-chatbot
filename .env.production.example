# Production Environment Variables
# ============================================================================
# üö® CRITICAL: Never commit this file to Git
# üö® This file is .gitignored for security
# ============================================================================

# ============================================================================
# OPENAI CONFIGURATION
# ============================================================================

# OpenAI API Key (required)
# - Get from: https://platform.openai.com/account/api-keys
# - Format: starts with "sk-"
# - Production: Use separate key from development
# - Rotation: Quarterly (first Monday of Q1/Q2/Q3/Q4)
OPENAI_API_KEY=sk-prod-your-production-api-key-here

# OpenAI Model (optional, default: gpt-4)
# - gpt-4: Best quality, highest cost (~$0.03-0.06 per 1K tokens)
#   Use for: Customer support, complex analysis, important queries
# - gpt-3.5-turbo: Good quality, lower cost (~$0.001-0.002 per 1K tokens)
#   Use for: High-volume queries, testing, less critical interactions
OPENAI_MODEL=gpt-4

# ============================================================================
# SHOPIFY CONFIGURATION
# ============================================================================

# Shopify Store Domain (required)
# - Format: your-store.myshopify.com
# - Do NOT include https://
# - Example: odanree.myshopify.com
SHOPIFY_STORE_DOMAIN=odanree.myshopify.com

# Shopify Storefront Access Token (required)
# - Get from: Shopify Admin ‚Üí Apps ‚Üí Develop Apps ‚Üí [Your App] ‚Üí Configuration
# - Section: Storefront API
# - Scopes needed: read_products, read_orders, read_inventory
# - Format: typically starts with "shopify_"
# - Production: Use separate token from development
SHOPIFY_STOREFRONT_ACCESS_TOKEN=shopify_prod_storefront_token_here

# Shopify Admin API Token (required)
# - Get from: Shopify Admin ‚Üí Apps ‚Üí Develop Apps ‚Üí [Your App] ‚Üí Configuration
# - Section: Admin API access tokens
# - Scopes needed: read_products, read_orders, read_inventory
# - Format: typically starts with "shpat_"
# - Production: Use separate token from development, rotate quarterly
# - ‚ö†Ô∏è  NEVER share this token - has full admin access
SHOPIFY_ADMIN_API_TOKEN=shpat_prod_admin_token_here

# Shopify Location ID (optional)
# - Your warehouse/fulfillment location ID
# - Get from: Shopify Admin ‚Üí Settings ‚Üí Locations
# - Production: 80318955565 (470 S Alpine Rd, San Jose)
SHOPIFY_LOCATION_ID=80318955565

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Port (optional, default: 3000)
# - Production typically uses port 3000 (reverse proxied from 443)
# - Vercel: Automatically managed
# - Docker: Can be changed, but 3000 is conventional
PORT=3000

# Environment Mode (required)
# - production: Optimized, error messages generic, logging minimal
# - staging: Production-like environment for testing
# - development: Debug logging, verbose errors (DO NOT use in production)
NODE_ENV=production

# Log Level (optional, default: info)
# - error: Only errors (minimal logging)
# - warn: Errors and warnings
# - info: Errors, warnings, and general info (recommended for production)
# - debug: Very verbose, includes all API calls (use only for troubleshooting)
LOG_LEVEL=info

# ============================================================================
# SECURITY & PERFORMANCE
# ============================================================================

# Rate Limiting Window (milliseconds, optional, default: 900000)
# - 900000 = 15 minutes
# - Defines the time window for rate limit counter
# - Example: 100 requests allowed per 15 minutes
RATE_LIMIT_WINDOW_MS=900000

# Rate Limit Max Requests (optional, default: 100)
# - Maximum requests allowed per RATE_LIMIT_WINDOW_MS
# - 100 requests per 15 minutes = ~6.7 req/minute
# - Adjust based on expected traffic
RATE_LIMIT_MAX_REQUESTS=100

# Request Timeout (milliseconds, optional, default: 30000)
# - 30000 = 30 seconds
# - Prevents hanging requests from tying up resources
# - Increase if OpenAI responses often take >30s
REQUEST_TIMEOUT_MS=30000

# ============================================================================
# DATABASE CONFIGURATION (Optional)
# ============================================================================

# Database URL (optional)
# - SQLite (Development): file:./data/app.db
# - PostgreSQL (Production):
#   Format: postgresql://user:password@host:port/database
#   Example: postgresql://chatbot:secure_pwd@db.example.com:5432/ai_chatbot
# - MongoDB (Alternative):
#   Format: mongodb+srv://user:password@cluster.mongodb.net/dbname
#   Example: mongodb+srv://chatbot:secure_pwd@cluster0.mongodb.net/ai_chatbot
DATABASE_URL=postgresql://chatbot:your_secure_password@db.example.com:5432/ai_chatbot

# ============================================================================
# LOGGING CONFIGURATION (Optional)
# ============================================================================

# Log File Path (optional, default: logs/app.log)
# - Directory should exist and be writable by the application
# - Use absolute path for production: /var/log/ai-chatbot/app.log
# - Docker: /app/logs/app.log (mounted volume)
LOG_FILE_PATH=/var/log/ai-chatbot/app.log

# ============================================================================
# MONITORING & ERROR TRACKING (Optional)
# ============================================================================

# Sentry DSN (optional)
# - Sentry collects and reports errors to dashboard
# - Get from: https://sentry.io ‚Üí [Project] ‚Üí Client Keys (DSN)
# - Format: https://xxxxx@o12345.ingest.sentry.io/67890
# - If not set, errors are only logged locally
# - Recommended for production to catch unexpected errors
SENTRY_DSN=https://your_key@o12345.ingest.sentry.io/67890

# ============================================================================
# DEVELOPMENT-ONLY FLAGS (Should be false in production)
# ============================================================================

# Debug Mode (optional, default: false)
# - Enables verbose logging and detailed error messages
# - ‚ö†Ô∏è  DO NOT set to true in production
# - Security risk: May expose sensitive information
DEBUG=false

# Mock OpenAI Responses (optional, default: false)
# - If true: Returns fake responses without calling OpenAI API
# - Useful for testing without API costs
# - ‚ö†Ô∏è  DO NOT set to true in production
# - This would break actual chatbot functionality
MOCK_OPENAI=false

# Mock Shopify Responses (optional, default: false)
# - If true: Returns fake products without calling Shopify API
# - Useful for testing without rate limiting
# - ‚ö†Ô∏è  DO NOT set to true in production
# - This would break product queries
MOCK_SHOPIFY=false

# ============================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# ============================================================================

# ‚úÖ Security Checklist Before Deployment:
# - [ ] All required variables filled in
# - [ ] No secrets visible in code: grep -r "sk-\|shpat_" src/
# - [ ] .env.production is in .gitignore
# - [ ] Build succeeds: npm run build
# - [ ] Tests pass: npm test
# - [ ] OPENAI_API_KEY does not appear in logs
# - [ ] Error messages are generic (no stack traces)
# - [ ] Rate limiting is enabled
# - [ ] Monitoring (Sentry) is configured
# - [ ] Database backups are configured (if using DB)

# ‚úÖ Deployment Instructions:
# 1. Set all variables in your deployment platform:
#    - Vercel: Dashboard ‚Üí Settings ‚Üí Environment Variables
#    - Docker: Use --env-file or build secrets
#    - Kubernetes: Create Secret object
# 2. Deploy application: npm start
# 3. Verify health check: curl https://api.your-domain/health
# 4. Monitor logs for errors
# 5. Test with real API calls
# 6. Set up alerts for high error rates

# ‚úÖ Monitoring Instructions:
# - OpenAI Costs: https://platform.openai.com/account/billing/overview
# - Sentry Errors: https://sentry.io/organizations/[org]/issues/
# - Application Logs: /var/log/ai-chatbot/app.log (or platform logs)

# ‚ö†Ô∏è  Key Rotation Schedule:
# - OPENAI_API_KEY: Rotate quarterly
# - SHOPIFY_STOREFRONT_ACCESS_TOKEN: Rotate quarterly
# - SHOPIFY_ADMIN_API_TOKEN: Rotate quarterly, handle carefully (has full access)
# - Emergency: Rotate immediately if leaked or suspicious activity detected

# üìû Support:
# - API Issues: Check logs in /var/log/ai-chatbot/app.log
# - Sentry Errors: Review dashboard at sentry.io
# - Deployment Issues: Check platform-specific logs (Vercel, Docker, etc.)

# ============================================================================
# Generated: 2025-11-05
# Last Modified: 2025-11-05
# ============================================================================
